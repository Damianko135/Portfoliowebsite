## Flag for GoDaddy
# Options +MultiViews

## Turn on the rewrite engine
RewriteEngine on

## Let the other htaccess do its thing

## If the requested URL without the .php extension exists as a file, internally rewrite the URL to append the .php extension
# Redirect to ./Home and have it load ./Home.php
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1.php [NC,L,QSA]

## If requested URL has the .html extension, remove it from the URL while still loading the content
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.html -f
RewriteRule ^(.*)$ $1.html [NC,L,QSA]

## Remove File extension after entering it yourself
# So redirect to ./home after putting in ./home.php
RewriteCond %{THE_REQUEST} \s/+(.+?)\.php[\s?] [NC]
RewriteRule ^ /%1 [R=301,NE,L]

## Set the default directory index page order
DirectoryIndex index.php Home.php

## Forbid access to .htaccess and Connection.php files
<FilesMatch "(\.htaccess|Connection\.php|Send_Email\.php)">
    Order deny,allow
    Deny from all
</FilesMatch>

## Forbid access to Directory/Directories:
RewriteCond %{REQUEST_URI} ^/Images/ [OR]
RewriteCond %{REQUEST_URI} ^/Scss/ [OR]
RewriteCond %{REQUEST_URI} ^/font/ [OR]
RewriteCond %{REQUEST_URI} ^/Css/ 
RewriteRule ^ - [R=404,L]



## Error Pages
ErrorDocument 401 /401.php
ErrorDocument 403 /403.php
ErrorDocument 404 /404.php
ErrorDocument 500 /500.php

## Only the farmer has access to these files:
<FilesMatch "Aantal_Reserveringen.php">
    AuthType basic
    AuthName 'Inloggen'
    AuthUserFile /home/Damian/.htpasswd
    Require valid-user
</FilesMatch>

## Redirect non-existing pages to index page
# Best use for single page applications

# <IfModule mod_rewrite.c>
#     Options +SymLinksIfOwnerMatch
#     RewriteEngine On
#     RewriteCond %{REQUEST_FILENAME} !-f
#     RewriteCond %{REQUEST_FILENAME} !-d
#     RewriteRule . /index.php [L]
# </IfModule>

## Server only
# Redirect WWW -> non-WWW
# RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
# RewriteRule ^(.*)$ http://%1/$1 [R=301,L]
# Redirect non-WWW -> WWW
# RewriteCond %{HTTP_HOST} ^"DomainName"\.(.+)$ [NC]
# RewriteRule ^(.*)$ http://www."DomainName"/$1 [L,R=301]

## SSL Redirect
# RewriteEngine on
# RewriteCond %{HTTPS} off
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

## Redirect from IP to Domain
RewriteCond %{HTTP_HOST} ^145\.89\.192\.242
RewriteRule ^(.*)$ https://groeneweide.dkorver.com/ [L,R=301]
